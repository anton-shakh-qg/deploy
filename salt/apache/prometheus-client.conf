# vi: ft=apache

{% if apache_port != 80 %}
Listen {{ apache_port }}
{% endif %}

<VirtualHost *:{{ apache_port }}>
        ServerName {{servername}}

        <Location "/">

            ProxyPass http://localhost:9157/

            AuthName "Open Contracting Prometheus Node Exporter"
            AuthType Basic
            AuthUserFile /home/{{ user }}/htpasswd
            require valid-user

        </Location>
</VirtualHost>
